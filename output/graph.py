import numpy as np
import matplotlib.pyplot as plt

def plot(dictionary, plot_type, numberofbars, search_terms):
    for st in search_terms:
        if plot_type == "barplot":
            bar_plot(dictionary, numberofbars, st)
        elif plot_type == "horizontal_barplot":
            horizontal_bar_plot(dictionary, numberofbars, st)
        else:
            print("[!!] Error: " + plot_type + " plot type not found.")

def bar_plot(dictionary, numberofbars, search_term):
    height = []
    bars = []

    count = 0
    for key, value in dictionary[search_term].items():
        if count >= numberofbars:
            break
        height.append(value)
        bars.append(key)
        count += 1

    x_pos = np.arange(len(bars))
    plt.bar(x_pos, height)
    plt.xticks(x_pos, bars, rotation=30, ha='right', size='small')
    plt.title(search_term + " frequency")
    plt.xlabel(search_term)
    plt.ylabel('frequency')
    plt.tight_layout()
    plt.show()

def horizontal_bar_plot(dictionary, numberofbars, search_term):
    height = []
    bars = []

    count = 0
    for key, value in dictionary[search_term].items():
        if count >= numberofbars:
            break
        height.append(value)
        bars.append(key)
        count += 1

    x_pos = np.arange(len(bars))
    plt.barh(x_pos, height)
    plt.yticks(x_pos, bars, size='small')
    plt.title(search_term + " frequency")
    plt.xlabel('frequency')
    plt.ylabel(search_term)
    plt.tight_layout()
    plt.show()