def save_to_txt(dictionary, filename, search_term):
    tmp = []
    for path, values in dictionary.items():
        for lib in values:
            tmp.append(lib)
    
    values = list(set(tmp))
    values.sort()

    file = open(filename.split('.')[0] + '-' + search_term + '.txt', "w")
    for i in values:
        if i != values[-1]: 
            file.write(i + ',\n')
        else:
            file.write(i)
    file.close()

def save_to_json(dictionary, filename, search_term):
    file = open(filename.split('.')[0] + '-' + search_term + '.json', "w")
    file.write('{\n')

    last_key = list(dictionary.keys())[-1]

    for path, values in dictionary.items():
        file.write('\t"' + path + '": [\n')
        for v in values:
            if v != values[-1]: 
                file.write('\t\t"' + v + '",\n')
            else:
                file.write('\t\t"' + v + '"\n')

        if path != last_key:
            file.write('\t],\n')
        else:
            file.write('\t]\n')

    file.write('}')
    file.close()

def save_frequency(ordered_distribution, filename, search_term):
    last_key = list(ordered_distribution.keys())[-1]

    file = open(filename.split('.')[0] + '-' + search_term + '-frequency.txt', "w")
    for lib, sum in ordered_distribution.items():
        if lib != last_key: 
            file.write(lib + ': ' + str(sum) + ',\n')
        else:
            file.write(lib + ': ' + str(sum))

    file.close()